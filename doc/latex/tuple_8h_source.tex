\hypertarget{tuple_8h_source}{}\doxysection{tuple.\+h}
\label{tuple_8h_source}\index{lib/hope/tuple/legacy/tuple.h@{lib/hope/tuple/legacy/tuple.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/* Copyright (C) 2020 -\/ 2021 Gleb Bezborodov -\/ All Rights Reserved}}
\DoxyCodeLine{2 \textcolor{comment}{ * You may use, distribute and modify this code under the}}
\DoxyCodeLine{3 \textcolor{comment}{ * terms of the MIT license.}}
\DoxyCodeLine{4 \textcolor{comment}{ *}}
\DoxyCodeLine{5 \textcolor{comment}{ * You should have received a copy of the MIT license with}}
\DoxyCodeLine{6 \textcolor{comment}{ * this file. If not, please write to: bezborodoff.gleb@gmail.com, or visit : https://github.com/glensand/hope}}
\DoxyCodeLine{7 \textcolor{comment}{ */}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{comment}{/*}}
\DoxyCodeLine{10 \textcolor{comment}{    \(\backslash\)file}}
\DoxyCodeLine{11 \textcolor{comment}{    \(\backslash\)brief File contains implementation of the classic recursive tuple. This class should never be used.}}
\DoxyCodeLine{12 \textcolor{comment}{    ANYMORE! NOWERE!}}
\DoxyCodeLine{13 \textcolor{comment}{    Compilation of this class os quit complicated deal.}}
\DoxyCodeLine{14 \textcolor{comment}{*/}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include <type\_traits>}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include <ostream>}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{keyword}{namespace }hope \{}
\DoxyCodeLine{22 }
\DoxyCodeLine{23     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{24     \textcolor{keyword}{class }\mbox{\hyperlink{classhope_1_1tuple}{tuple}};}
\DoxyCodeLine{25 }
\DoxyCodeLine{26     \textcolor{keyword}{template}<\textcolor{keyword}{typename} Head, \textcolor{keyword}{typename}... Tail>}
\DoxyCodeLine{27     \textcolor{keyword}{class }\mbox{\hyperlink{classhope_1_1tuple}{tuple}}<Head, Tail...> \{}
\DoxyCodeLine{28     \textcolor{keyword}{public}:}
\DoxyCodeLine{29         \mbox{\hyperlink{classhope_1_1tuple}{tuple}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{30 }
\DoxyCodeLine{31         \textcolor{keyword}{template} <\textcolor{keyword}{typename} HeadRef, \textcolor{keyword}{typename}... TailRef,}
\DoxyCodeLine{32             \textcolor{keyword}{typename} = std::enable\_if\_t<std::is\_same\_v<HeadRef, Head>}
\DoxyCodeLine{33             \&\& std::is\_same\_v<TailRef, Tail>...>>}
\DoxyCodeLine{34             \mbox{\hyperlink{classhope_1_1tuple}{tuple}}(Head\&\& head, \mbox{\hyperlink{classhope_1_1tuple}{tuple<Tail...>}}\&\& tail)}
\DoxyCodeLine{35             : m\_head(std::forward<Head>(head))}
\DoxyCodeLine{36             , m\_tail(std::forward<Tail>(tail)...) \{ \}}
\DoxyCodeLine{37 }
\DoxyCodeLine{38         \textcolor{keyword}{template} <\textcolor{keyword}{typename} HeadRef, \textcolor{keyword}{typename}... TailRef,}
\DoxyCodeLine{39             \textcolor{keyword}{typename} = std::enable\_if\_t<std::is\_same\_v<HeadRef, Head>}
\DoxyCodeLine{40             \&\& std::is\_same\_v<TailRef, Tail>...>>}
\DoxyCodeLine{41             \mbox{\hyperlink{classhope_1_1tuple}{tuple}}(Head\&\& head, Tail\&\&... tail)}
\DoxyCodeLine{42             : m\_head(std::forward<Head>(head))}
\DoxyCodeLine{43             , m\_tail(std::forward<Tail>(tail)...) \{\}}
\DoxyCodeLine{44 }
\DoxyCodeLine{45         Head\& head() \{}
\DoxyCodeLine{46             \textcolor{keywordflow}{return} m\_head;}
\DoxyCodeLine{47         \}}
\DoxyCodeLine{48 }
\DoxyCodeLine{49         \textcolor{keyword}{const} Head\& head()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{50             \textcolor{keywordflow}{return} m\_head;}
\DoxyCodeLine{51         \}}
\DoxyCodeLine{52 }
\DoxyCodeLine{53         \mbox{\hyperlink{classhope_1_1tuple}{tuple}}<Tail...>\& tail() \{}
\DoxyCodeLine{54             \textcolor{keywordflow}{return} m\_tail;}
\DoxyCodeLine{55         \}}
\DoxyCodeLine{56 }
\DoxyCodeLine{57         \textcolor{keyword}{const} \mbox{\hyperlink{classhope_1_1tuple}{tuple}}<Tail...>\& tail()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{58             \textcolor{keywordflow}{return} m\_tail;}
\DoxyCodeLine{59         \}}
\DoxyCodeLine{60     \textcolor{keyword}{private}:}
\DoxyCodeLine{61         Head            m\_head;}
\DoxyCodeLine{62         \mbox{\hyperlink{classhope_1_1tuple}{tuple}}<Tail...>  m\_tail;}
\DoxyCodeLine{63     \};}
\DoxyCodeLine{64 }
\DoxyCodeLine{65     \textcolor{keyword}{template} <>}
\DoxyCodeLine{66     \textcolor{keyword}{class }\mbox{\hyperlink{classhope_1_1tuple}{tuple}}<> \{}
\DoxyCodeLine{67 }
\DoxyCodeLine{68     \};}
\DoxyCodeLine{69 }
\DoxyCodeLine{70     \textcolor{keyword}{namespace }detail}
\DoxyCodeLine{71     \{}
\DoxyCodeLine{72         \textcolor{keyword}{template} <\textcolor{keywordtype}{unsigned} N>}
\DoxyCodeLine{73         \textcolor{keyword}{struct }\mbox{\hyperlink{structhope_1_1detail_1_1tuple__get}{tuple\_get}} \{}
\DoxyCodeLine{74             \textcolor{keyword}{template} <\textcolor{keyword}{typename} Head, \textcolor{keyword}{typename}... Tail>}
\DoxyCodeLine{75             \textcolor{keyword}{static} \textcolor{keyword}{auto} apply(\textcolor{keyword}{const} \mbox{\hyperlink{classhope_1_1tuple_3_01_head_00_01_tail_8_8_8_01_4}{tuple<Head, Tail...>}}\& \mbox{\hyperlink{classhope_1_1tuple}{tuple}}) \{}
\DoxyCodeLine{76                 \textcolor{keywordflow}{return} \mbox{\hyperlink{structhope_1_1detail_1_1tuple__get}{tuple\_get<N -\/ 1>::apply}}(\mbox{\hyperlink{classhope_1_1tuple}{tuple}}.GetTail());}
\DoxyCodeLine{77             \}}
\DoxyCodeLine{78         \};}
\DoxyCodeLine{79     }
\DoxyCodeLine{80         \textcolor{keyword}{template} <>}
\DoxyCodeLine{81         \textcolor{keyword}{struct }\mbox{\hyperlink{structhope_1_1detail_1_1tuple__get}{tuple\_get}}<0> \{}
\DoxyCodeLine{82             \textcolor{keyword}{template}<\textcolor{keyword}{typename} Head, \textcolor{keyword}{typename}... Tail>}
\DoxyCodeLine{83             \textcolor{keyword}{static} \textcolor{keyword}{const} Head\& apply(\textcolor{keyword}{const} \mbox{\hyperlink{classhope_1_1tuple_3_01_head_00_01_tail_8_8_8_01_4}{tuple<Head, Tail...>}}\& \mbox{\hyperlink{classhope_1_1tuple}{tuple}}) \{}
\DoxyCodeLine{84                 \textcolor{keywordflow}{return} \mbox{\hyperlink{classhope_1_1tuple}{tuple}}.GetHead();}
\DoxyCodeLine{85             \}}
\DoxyCodeLine{86         \};}
\DoxyCodeLine{87     }
\DoxyCodeLine{88         \textcolor{keyword}{inline} \textcolor{keywordtype}{void} print\_tuple(std::ostream\& stream, \mbox{\hyperlink{classhope_1_1tuple_3_4}{tuple<>}} \textcolor{keyword}{const}\&, \textcolor{keywordtype}{bool} isFirst = \textcolor{keyword}{true}) \{}
\DoxyCodeLine{89             stream << (isFirst ? \textcolor{charliteral}{'('} : \textcolor{charliteral}{')'});}
\DoxyCodeLine{90         \}}
\DoxyCodeLine{91     }
\DoxyCodeLine{92         \textcolor{keyword}{template} <\textcolor{keyword}{typename} Head, \textcolor{keyword}{typename}... Tail>}
\DoxyCodeLine{93         \textcolor{keywordtype}{void} print\_tuple(std::ostream\& stream, \mbox{\hyperlink{classhope_1_1tuple_3_01_head_00_01_tail_8_8_8_01_4}{tuple<Head, Tail...>}} \textcolor{keyword}{const}\& \mbox{\hyperlink{classhope_1_1tuple}{tuple}}, \textcolor{keywordtype}{bool} isFirst = \textcolor{keyword}{true}) \{}
\DoxyCodeLine{94             stream << \textcolor{charliteral}{'('};}
\DoxyCodeLine{95             stream << \mbox{\hyperlink{classhope_1_1tuple}{tuple}}.GetHead();}
\DoxyCodeLine{96             print\_tuple(stream, \mbox{\hyperlink{classhope_1_1tuple}{tuple}}.GetTail(), \textcolor{keyword}{false});}
\DoxyCodeLine{97         \}}
\DoxyCodeLine{98     \}}
\DoxyCodeLine{99 }
\DoxyCodeLine{100     \textcolor{keyword}{template} <\textcolor{keywordtype}{unsigned} N, \textcolor{keyword}{typename}... Types>}
\DoxyCodeLine{101     \textcolor{keyword}{auto} get(\textcolor{keyword}{const} tuple<Types...>\& tuple) \{}
\DoxyCodeLine{102         \textcolor{keywordflow}{return} detail::tuple\_get<N>::apply(tuple);}
\DoxyCodeLine{103     \}}
\DoxyCodeLine{104 }
\DoxyCodeLine{105     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{106     \textcolor{keyword}{auto} make\_tuple(Ts\&\&... elems) \{}
\DoxyCodeLine{107         \textcolor{keywordflow}{return} tuple<std::decay\_t<Ts>...>(std::forward<Ts>(elems)...);}
\DoxyCodeLine{108     \}}
\DoxyCodeLine{109 }
\DoxyCodeLine{110     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Ts>}
\DoxyCodeLine{111     std::ostream\& \mbox{\hyperlink{group__reflection_gab67dd118db3cc092b48aacf6d760cfaf}{operator<<}}(std::ostream\& stream, tuple<Ts...> tuple) \{}
\DoxyCodeLine{112         detail::print\_tuple(stream, tuple);}
\DoxyCodeLine{113         \textcolor{keywordflow}{return} stream;}
\DoxyCodeLine{114     \}}
\DoxyCodeLine{115 \}}

\end{DoxyCode}
